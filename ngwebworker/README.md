# Ngwebworker
# Extract webpack file
Run 
``` ng eject``` 
so Angular CLI generates the webpack.config.js file.

Run 
``` npm install``` 
so the new dependencies generated by CLI are satisfied.

# Install webworker bootstrap dependencies
Run 
``` npm install --save @angular/platform-webworker @angular/platform-webworker-dynamic```

# Changes in UI thread bootstrap

Changes in app.module.ts
Replace BrowserModule by WorkerAppModule in the app.module.ts file. You’ll also need to update the import statement in order to use @angular/platform-webworker library.

# Changes in src/main.ts

Replace bootstrap process with: bootstrapWorkerUI (update also the import).
You’ll need to pass a URL with the file where the web worker is defined. Use a file called webworker.bundle.js, don’t worry, we will create this file soon.

# Create workerLoader.ts file
Create a new file src/workerLoader.ts

As your Web Worker will be a single file containing all the required stuff, you need to include polyfills.ts, @angular/core, and @angular/common packages. On next steps, you will update Webpack in order to transpile and build a bundle with the result.

Import platformWorkerAppDynamic

Import the AppModule (remove the import from main.ts) and bootstrap it using this platformWorkerAppDynamic platform.

# Update webpack to build your webworker
## The webpack auto generated config file is quite long, but you’ll just need to center your attention in the following things:

Add a webworkerentry point for our workerLoader.ts file. If you look at the output, you’ll see that it attaches a bundle.js prefix to all chunks. That’s why during bootstrap step we have used webworker.bundle.js

Go to HtmlWebpackPlugin and exclude the webworker entry point, so the generated Web Worker file is not included in the index.html file.

Go to CommonChunksPlugin, and for the inline common chunk, set the entry chunks explicitely to prevent webworker to be included.

Go to AotPlugin and set explicitely the entryModule
# Run 
```npm start```